<nav class="navbar navbar-expand-md navbar-light bg-white shadow-sm sticky-top">
  <div class="container-fluid px-4 d-flex align-items-center justify-content-between">

    <!-- Left: Logo + Brand Name + Nav Links -->
    <div class="d-flex align-items-center gap-4">
      <a class="navbar-brand d-flex align-items-center" href="/listings">
        <!-- PNG Logo -->
        <img src="/assets/logo-nv.png" alt="NestVoyage Logo" />
        <div class="brand-text ms-2 d-flex flex-column lh-sm">
          <span class="fs-3 fw-bold">
            <span class="text-dark">Nest</span><span class="text-primary">Voyage</span>
          </span>
          <small class="text-muted fst-italic d-none d-md-block">Explore. Stay. Enjoy.</small>
        </div>
      </a>

      <!-- Desktop Nav Links -->
      <ul class="navbar-nav d-none d-md-flex flex-row">
        <li class="nav-item">
          <a class="nav-link px-3" href="/listings">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-3" href="/listings/new">Become a Host</a>
        </li>
      </ul>
    </div>

    <!-- Center: Search Bar -->
    <div class="mx-auto d-none d-md-block" style="max-width: 600px; width: 100%;">
      <form class="d-flex" action="/search" method="GET">
        <input
          class="form-control me-2"
          type="search"
          name="q"
          placeholder="Search listings..."
          aria-label="Search"
        />
        <select class="form-select me-2" name="category">
          <option value="">All Categories</option>
          <option value="Mountain">Mountain</option>
          <option value="Cities">Cities</option>
          <option value="Camping">Camping</option>
          <option value="Pools">Pools</option>
          <option value="Rooms">Rooms</option>
          <option value="Castles">Castles</option>
          <option value="Boats">Boats</option>
          <option value="Farms">Farms</option>
          <option value="Hills">Hills</option>
          <option value="Temples">Temples</option>
        </select>
        <button class="btn btn-outline-primary" type="submit">Search</button>
      </form>
    </div>

    <!-- Right: User Auth -->
    <ul class="navbar-nav ms-3">
      <% if (!currUser) { %>
        <li class="nav-item">
          <a class="nav-link px-2" href="/login">Log in</a>
        </li>
        <li class="nav-item">
          <a class="btn btn-outline-primary ms-2 px-3" href="/signup">Sign up</a>
        </li>
      <% } else { %>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
            <span class="me-2"><%= currUser.username %></span>
            <i class="fa-solid fa-circle-user fs-5"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="/listings/new">Host your property</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/logout">Log out</a></li>
          </ul>
        </li>
      <% } %>
    </ul>

  </div>
</nav>
